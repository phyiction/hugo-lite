{{ define "main" }}
{{- $recentPosts := where .Site.RegularPages.ByPublishDate.Reverse "Type" "eq" "post" | first 3 -}}
<div class="container is-max-desktop">
  <section class="hero is-medium is-primary">
    <div class="hero-body">
      <p class="title has-text-dark">{{ .Site.Title }}</p>
      <p class="subtitle has-text-dark">{{ .Site.Params.Description | default "Your blog tagline" }}</p>
    </div>
  </section>
  <div class="tile is-ancestor mt-4">
    <div class="tile is-vertical is-12">
      <div class="tile">
        {{- if gt ($recentPosts | len) 0 -}}
        <div class="tile is-parent">
          <article class="tile is-child notification is-danger">
            {{- with index $recentPosts 0 -}}
            {{- partial "page-tile.html" . }}
            {{- end -}}
          </article>
        </div>
        {{- end -}}
        {{- if gt ($recentPosts | len) 1 -}}
        <div class="tile is-parent">
          <article class="tile is-child notification is-warning">
            {{- with index $recentPosts 1 -}}
            {{- partial "page-tile.html" . }}
            {{- end -}}
          </article>
        </div>
        {{- end -}}
        {{- if gt ($recentPosts | len) 2 -}}
        <div class="tile is-parent">
          <article class="tile is-child notification is-info">
            {{- with index $recentPosts 2 -}}
            {{- partial "page-tile.html" . }}
            {{- end -}}
          </article>
        </div>
        {{- end -}}
      </div>
    </div>    
  </div>
</div>
{{- end -}}